<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Tweedie Stochastic Reserving Model — tweedieReserve • ChainLadder</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Tweedie Stochastic Reserving Model — tweedieReserve"><meta name="description" content="This function implements loss reserving models within the generalized
linear model framework in order to generate the full predictive
distribution for loss reserves. Besides, it generates also the one year
risk view useful to derive the reserve risk capital in a Solvency II
framework. Finally, it allows the user to validate the model error while changing different model parameters, as the regression structure and diagnostics on the Tweedie p parameter."><meta property="og:description" content="This function implements loss reserving models within the generalized
linear model framework in order to generate the full predictive
distribution for loss reserves. Besides, it generates also the one year
risk view useful to derive the reserve risk capital in a Solvency II
framework. Finally, it allows the user to validate the model error while changing different model parameters, as the regression structure and diagnostics on the Tweedie p parameter."><meta property="og:image" content="http://mages.github.io/ChainLadder/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ChainLadder</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.20</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/ChainLadder.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/mages/ChainLadder/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Tweedie Stochastic Reserving Model</h1>

      <div class="d-none name"><code>tweedieReserve.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function implements loss reserving models within the generalized
linear model framework in order to generate the full predictive
distribution for loss reserves. Besides, it generates also the one year
risk view useful to derive the reserve risk capital in a Solvency II
framework. Finally, it allows the user to validate the model error while changing different model parameters, as the regression structure and diagnostics on the Tweedie p parameter.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">tweedieReserve</span><span class="op">(</span><span class="va">triangle</span>, var.power <span class="op">=</span> <span class="fl">1</span>, </span>
<span>                    link.power <span class="op">=</span> <span class="fl">0</span>, design.type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span>, </span>
<span>                    rereserving <span class="op">=</span> <span class="cn">FALSE</span>, cum <span class="op">=</span> <span class="cn">TRUE</span>, exposure <span class="op">=</span> <span class="cn">FALSE</span>, </span>
<span>                    bootstrap <span class="op">=</span> <span class="fl">1</span>, boot.adj <span class="op">=</span> <span class="fl">0</span>, nsim <span class="op">=</span> <span class="fl">1000</span>, </span>
<span>                    proc.err <span class="op">=</span> <span class="cn">TRUE</span>, p.optim <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>                    p.check <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">1.1</span>, <span class="fl">2.1</span>, by <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>                    progressBar <span class="op">=</span> <span class="cn">TRUE</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <p></p>
<dl><dt id="arg-triangle">triangle<a class="anchor" aria-label="anchor" href="#arg-triangle"></a></dt>
<dd><p>An object of class <code><a href="Triangles.html">triangle</a></code>.</p></dd>

  <dt id="arg-var-power">var.power<a class="anchor" aria-label="anchor" href="#arg-var-power"></a></dt>
<dd><p>The index (p) of the power variance function \(V(\mu)=\mu^p\).
    Default to <code>p = 1</code>, which is the over-dispersed Poisson model.
    If <code>NULL</code>, it will be assumed to be in <code>(1, 2)</code> and
    estimated using the <code>cplm</code> package.
    See <code><a href="https://rdrr.io/pkg/statmod/man/tweedie.html" class="external-link">tweedie</a></code>.</p></dd>

  <dt id="arg-link-power">link.power<a class="anchor" aria-label="anchor" href="#arg-link-power"></a></dt>
<dd><p>The index of power link function. The default <code>link.power = 0</code>
  produces a log link. See <code><a href="https://rdrr.io/pkg/statmod/man/tweedie.html" class="external-link">tweedie</a></code>.</p></dd>

  <dt id="arg-design-type">design.type<a class="anchor" aria-label="anchor" href="#arg-design-type"></a></dt>
<dd><p>It's a 3 dimension array that specifies the design matrix underlying
  the GLM. The dimensions represent respectively: origin period,
  development and calendar period. Accepted values are: <code>0</code> (not
  modelled), <code>1</code> (modelled as factor) and <code>2</code> (modelled as
  variable). Default to <code>c(1,1,0)</code>, which is the common
  specification in actuarial literature (origin and development period
  as factors, calendar period not modelled). If a parameter for the calendar period is specified,       a linear regression on the log CY parameter is fitted to estimate future values, thus is recommended to validate them running a plot of the gamma values (see output <code>gamma_y</code>) .</p></dd>

  <dt id="arg-rereserving">rereserving<a class="anchor" aria-label="anchor" href="#arg-rereserving"></a></dt>
<dd><p>Boolean, if <code>TRUE</code> the one year risk view loss reserve
  distribution is derived. Default to <code>FALSE</code>. Note, the runtime
  can materially increase if set to <code>TRUE</code>.</p></dd>

  <dt id="arg-cum">cum<a class="anchor" aria-label="anchor" href="#arg-cum"></a></dt>
<dd><p>Boolean, indicating whether the input triangle is
  cumulative or incremental along the development period.
  If <code>TRUE</code>, then
  <code>triangle</code> is assumed to be on the cumulative scale, and it will
  be converted to incremental losses internally before a GLM is fitted.</p></dd>

  <dt id="arg-exposure">exposure<a class="anchor" aria-label="anchor" href="#arg-exposure"></a></dt>
<dd><p>Boolean, if <code>TRUE</code> the <code>exposure</code> defined in the
  <code><a href="Triangles.html">triangle</a></code> object is specified as <code>offset</code> in the GLM
  model specification. Default to <code>FALSE</code>.</p></dd>

  <dt id="arg-bootstrap">bootstrap<a class="anchor" aria-label="anchor" href="#arg-bootstrap"></a></dt>
<dd><p>Integer, it specifies the type of bootstrap for parameter error.
  Accepted values are: <code>0</code> (disabled), <code>1</code> (parametric),
  <code>2</code> (semi-parametric). Default to <code>1</code>.</p></dd>

  <dt id="arg-boot-adj">boot.adj<a class="anchor" aria-label="anchor" href="#arg-boot-adj"></a></dt>
<dd><p>Integer, it specified the methodology when using semi-parametric
  bootstrapping. Accepted values are: <code>0</code> (cycles until all the
  values of the pseudo-triangle are &gt;= 0), <code>1</code> (overwrite negative
  values to 0.01). Default to <code>0</code>. Note, runtime can materially
  increase when set to  <code>0</code>, as it could struggle to find pseudo-triangles &gt;= 0)</p></dd>

  <dt id="arg-nsim">nsim<a class="anchor" aria-label="anchor" href="#arg-nsim"></a></dt>
<dd><p>Integer, number of simulations to derive the loss reserve distribution.
  Default to <code>1000</code>. Note, high num of simulations could materially
  increase runtime, in particular if a re-reserving algorithm is used
  as well.</p></dd>

  <dt id="arg-proc-err">proc.err<a class="anchor" aria-label="anchor" href="#arg-proc-err"></a></dt>
<dd><p>Boolean, if <code>TRUE</code> a process error (coherent with the specified
  model) is added to the forecasted distribution. Default to <code>TRUE</code>.</p></dd>

  <dt id="arg-p-optim">p.optim<a class="anchor" aria-label="anchor" href="#arg-p-optim"></a></dt>
<dd><p>Boolean, if <code>TRUE</code> the model estimates the MLE for the Tweedie's
  <code>p</code> parameter. Default to <code>FALSE</code>. Recommended to use to validate the Tweedie's     <code>p</code> parameter.</p></dd>

  <dt id="arg-p-check">p.check<a class="anchor" aria-label="anchor" href="#arg-p-check"></a></dt>
<dd><p>If <code>p.optim=TRUE</code>, a vector of <code>p</code> values for consideration. The values must all be larger than one (if the response variable has exact zeros, the values must all be between one and two). Default to <code>c(0,seq(1.1,2.1,by=0.1),3)</code>. As fitting the Tweedie p-value isn't a straightforward process, please refer to <code><a href="https://rdrr.io/pkg/tweedie/man/tweedie.profile.html" class="external-link">tweedie.profile</a></code>, <code>p.vec</code> argument.</p></dd>


<dt id="arg-progressbar">progressBar<a class="anchor" aria-label="anchor" href="#arg-progressbar"></a></dt>
<dd><p>Boolean, if <code>TRUE</code> a progress bar will be shown in the console to
  give an indication of bootstrap progress.</p></dd>

  <dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Arguments to be passed onto the function <code><a href="https://rdrr.io/r/stats/glm.html" class="external-link">glm</a></code> or
  <code>cpglm</code> such as <code>contrasts</code> or <code>control</code>. It is
  important that <code>offset</code> and <code>weight</code> should not be specified.
  Otherwise, an error will be reported and the program will quit.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>The output is an object of class <code>"glm"</code> that has the following components:</p>
<dl><dt>call</dt>
<dd><p>the matched call.</p></dd>

  <dt>summary</dt>
<dd><p>A data frame containing the predicted loss reserve
  statistics. The following items are displayed:</p><ul><li><p><code>Latest</code>: Latest paid</p></li>
<li><p><code>Det.Reserve</code>: Deterministic reserve, i.e. the MLE GLM
      estimate of the Reserve</p></li>
<li><p><code>Ultimate</code>: Ultimate cost, defined as
      <code>Latest+Det.Reserve</code></p></li>
<li><p><code>Dev.To.Date</code>: Development to date, defined as
      <code>Latest/Ultimate</code></p></li>
</ul><p>The following items are available if <code>bootstrap&gt;0</code></p><ul><li><p><code>Expected.Reserve</code>: The expected reserve, defined as
      the average of the reserve simulations.
      Should be roughly as <code>Det.Reserve</code>.</p></li>
<li><p><code>Prediction.Error</code>: The prediction error of the reserve,
      defined as sqrt of the simulations. Please note that if
      <code>proc.err=FALSE</code>, this field contains only the parameter
      error given by the bootstrap.</p></li>
<li><p><code>CoV</code>: Coefficient of Variation, defined as
      <code>Prediction. Error/Expected.Reserve</code>.</p></li>
<li><p><code>Expected Ultimate</code>: The expected ultimate, defined as
      <code>Expected.Reserve+Latest</code>.</p></li>
</ul><p>The following items are availbale if <code>bootstrap&gt;0 &amp; reserving=TRUE</code></p><ul><li><p><code>Expected.Reserve_1yr</code>: The reserve derived as sum of
      next year payment and the expected value of the re-reserve at the
      end of the year. It should be similar to both
      <code>Expected.Reserve</code> and <code>Det.Reserve</code>. If it isn't, it's
      recommended to change regression structure and parameters.</p></li>
<li><p><code>Prediction.Error_1yr</code>: The prediction error of the
      prospective Claims Development Result (CDR), as defined by
      Wüthrich (CDR=R(0)-X-R(1)).</p></li>
<li><p><code>Emergence.Pattern</code>: It's the emergence pattern defined
      as <code>Prediction.Error_1yr/Prediction.Error</code>.</p></li>
</ul><p></p></dd>

  <dt>Triangle</dt>
<dd><p>The input triangle.</p></dd>

  <dt>FullTriangle</dt>
<dd><p>The completed triangle, where empty cells in the
  original triangle are filled with model predictions.</p></dd>

  <dt>model</dt>
<dd><p>The fitted GLM, a class of <code>glm</code> or <code>cpglm</code>.
  It is most convenient to work with this component when model fit
  information is wanted.</p></dd>


  <dt>scale</dt>
<dd><p>The dispersion parameter phi</p></dd>

  <dt>bias</dt>
<dd><p>The model bias, defined as <code>bias&lt;-sqrt(n/d.f)</code></p></dd>

  <dt>GLMReserve</dt>
<dd><p>Deterministic reserve, i.e. the MLE GLM estimate
  of the Reserve</p></dd>

  <dt>gamma_y</dt>
<dd><p>When the calendar year is used, it displays the observed
  and fitted calendar year (usually called "gamma"") factors.</p></dd>

  <dt>res.diag</dt>
<dd><p>It's a data frame for residual diagnostics. It
  contains:</p><ul><li><p><code>unscaled</code>: The GLM Pearson residuals.</p></li>
<li><p><code>unscaled.biasadj</code>: The GLM Person residuals adjusted by
      the bias, i.e. <code>unscaled.biasadj=unscaled*bias</code>.</p></li>
<li><p><code>scaled</code>: The GLM Person scaled residuals, i.e.
      <code>scaled=unscaled/sqrt(phi)</code>.</p></li>
<li><p><code>scaled, biasadj</code>: The GLM Person scaled residuals
      adjusted by the bias, i.e. <code>scaled.biasadj=scaled*bias</code>.</p></li>
<li><p><code>dev</code>: Development year.</p></li>
<li><p><code>origin</code>: Origin year.</p></li>
<li><p><code>cy</code>: Calendar year.</p></li>
</ul><p></p></dd>

</dl><p>[If <code>boostrap&gt;1</code>]</p>
<dl><dt>distr.res_ult</dt>
<dd><p>The full distribution "Ultimate View"</p></dd>

</dl><p>[If <code>rereserve=TRUE</code>]</p>
<dl><dt>distr.res_1yr</dt>
<dd><p>The full distribution "1yr View"</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>


<p>Gigante, Sigalotti. <em>Model risk in claims reserving with generalized linear models</em>.
Giornale dell'Istituto Italiano degli Attuari, Volume LXVIII. 55-87. 2005</p>
<p>England, Verrall. <em>Stochastic claims reserving in general insurance</em>.
B.A.J. 8, III. 443-544. 2002</p>
<p>England, Verrall. <em>Predictive distributions of outstanding liabilities in general insurance</em>.
A.A.S. 1, II. 221-270. 2006</p>
<p>Peters, Shevchenko, Wüthrich, <em>Model uncertainty in claims reserving within
Tweedie's compound poisson models</em>. Astin Bulletin 39(1). 1-33. 2009</p>
<p>Renshaw, Verrall. <em>A stochastic model underlying the chain-ladder technique</em>.
B.A.J. 4, IV. 903-923. 1998</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Alessandro Carrato MSc FIA OA <a href="mailto:alessandro.carrato@gmail.com">alessandro.carrato@gmail.com</a></p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>This function was born initially as a fork of the <code>glmReserve</code> by
 Wayne Zhang. I would like to thank him for his work that permitted me to
 speed up my coding.</p>
    </div>
    <div class="section level2">
    <h2 id="warning">Warning<a class="anchor" aria-label="anchor" href="#warning"></a></h2>
    <p>Note that the runtime can materially increase for certain parameter
  setting. See above for more details.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>See also <code><a href="tweedieMethods.html">summary.tweedieReserve</a></code>.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co">## Verrall's ODP Model is a Tweedie with p=1, log link and </span></span></span>
<span class="r-in"><span><span class="co">## origin/development periods as factors, thus c(1,1,0)</span></span></span>
<span class="r-in"><span><span class="va">res1</span> <span class="op">&lt;-</span> <span class="fu">tweedieReserve</span><span class="op">(</span><span class="va">MW2008</span>, var.power<span class="op">=</span><span class="fl">1</span>, link.power<span class="op">=</span><span class="fl">0</span>, </span></span>
<span class="r-in"><span>                           design.type<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">0</span><span class="op">)</span>, rereserving<span class="op">=</span><span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>                           progressBar<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## To get directly ultimate view and respective one year view </span></span></span>
<span class="r-in"><span><span class="co">## at selected percentiles</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">res1</span><span class="op">)</span> </span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#To get other interesting statistics</span></span></span>
<span class="r-in"><span><span class="va">res1</span><span class="op">$</span><span class="va">summary</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## In order to validate the Tweedie parameter 'p', it is interesting to </span></span></span>
<span class="r-in"><span><span class="co">## review its loglikelihood profile. Please note that, given the nature </span></span></span>
<span class="r-in"><span><span class="co">## of our data, it is expected that we may have some fitting issues for </span></span></span>
<span class="r-in"><span><span class="co">## given 'p' parameters, thus any results/errors should be considered </span></span></span>
<span class="r-in"><span><span class="co">## only indicatively. Considering different regression structures is anyway </span></span></span>
<span class="r-in"><span><span class="co">## recommended. Different 'p' values can be defined via the p.check array </span></span></span>
<span class="r-in"><span><span class="co">## as input of the function. </span></span></span>
<span class="r-in"><span><span class="co">## See help(tweedie.profile), p.vec parameter, for further information.</span></span></span>
<span class="r-in"><span><span class="co">## Note: The parameters rereserving and bootstrap can be set to 0 to speed up </span></span></span>
<span class="r-in"><span><span class="co">## the process, as they aren't needed. </span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Runs a 'p' loglikelihood profile on the parameters </span></span></span>
<span class="r-in"><span><span class="co">## p=c(0,1.1,1.2,1.3,1.4,1.5,2,3)</span></span></span>
<span class="r-in"><span><span class="va">res2</span> <span class="op">&lt;-</span> <span class="fu">tweedieReserve</span><span class="op">(</span><span class="va">MW2008</span>, p.optim<span class="op">=</span><span class="cn">TRUE</span>, </span></span>
<span class="r-in"><span>                       p.check<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">1.1</span>,<span class="fl">1.2</span>,<span class="fl">1.3</span>,<span class="fl">1.4</span>,<span class="fl">1.5</span>,<span class="fl">2</span>,<span class="fl">3</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>                       design.type<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">0</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>                        rereserving<span class="op">=</span><span class="cn">FALSE</span>, bootstrap<span class="op">=</span><span class="fl">0</span>, </span></span>
<span class="r-in"><span>                        progressBar<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## As it is possible to see in this example, the MLE of p (or xi) results </span></span></span>
<span class="r-in"><span><span class="co">## between 0 and 1, which is not possible as Tweedie models aren't </span></span></span>
<span class="r-in"><span><span class="co">## defined for 0 &lt; p &lt; 1, thus the Error message. </span></span></span>
<span class="r-in"><span><span class="co">## But, despite this, we can conclude that overall the value p=1 could be </span></span></span>
<span class="r-in"><span><span class="co">## reasonable for this dataset, as anyway it seems to be near the MLE. </span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## In order to consider an inflation parameter across the origin period, </span></span></span>
<span class="r-in"><span><span class="co">## it may be interesting to change the regression structure to c(0,1,1) </span></span></span>
<span class="r-in"><span><span class="co">## to get the same estimates of the Arithmetic Separation Method, as </span></span></span>
<span class="r-in"><span><span class="co">## referred in Gigante/Sigalotti. </span></span></span>
<span class="r-in"><span><span class="va">res3</span> <span class="op">&lt;-</span> <span class="fu">tweedieReserve</span><span class="op">(</span><span class="va">MW2008</span>, var.power<span class="op">=</span><span class="fl">1</span>, link.power<span class="op">=</span><span class="fl">0</span>, </span></span>
<span class="r-in"><span>                           design.type<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">1</span>,<span class="fl">1</span><span class="op">)</span>, rereserving<span class="op">=</span><span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>                           progressBar<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">res3</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## An assessment on future fitted calendar year values (usually defined </span></span></span>
<span class="r-in"><span><span class="co">## as "gamma") is recommended</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">res3</span><span class="op">$</span><span class="va">gamma_y</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Model residuals can be plotted using the res.diag output</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">scaled.biasadj</span> <span class="op">~</span> <span class="va">dev</span>, data<span class="op">=</span><span class="va">res3</span><span class="op">$</span><span class="va">res.diag</span><span class="op">)</span> <span class="co"># Development year</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">scaled.biasadj</span> <span class="op">~</span> <span class="va">cy</span>, data<span class="op">=</span><span class="va">res3</span><span class="op">$</span><span class="va">res.diag</span><span class="op">)</span> <span class="co"># Calendar year</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">scaled.biasadj</span> <span class="op">~</span> <span class="va">origin</span>, data<span class="op">=</span><span class="va">res3</span><span class="op">$</span><span class="va">res.diag</span><span class="op">)</span> <span class="co"># Origin year</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Markus Gesmann, Daniel Murphy, Yanwei (Wayne) Zhang, Alessandro Carrato, Mario Wuthrich, Fabio Concina, Eric Dal Moro.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

