<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="The function MultiChainLadder implements multivariate methods to  forecast insurance loss payments based on several cumulative claims development triangles. These methods are multivariate extensions of the chain-ladder technique, which develop several correlated triangles simultaneously in a way that both contemporaneous correlations and structural relationships can be accounted for. The estimated conditional Mean Square Errors (MSE) are also produced."><title>Multivariate Chain-Ladder Models — MultiChainLadder • ChainLadder</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Multivariate Chain-Ladder Models — MultiChainLadder"><meta property="og:description" content="The function MultiChainLadder implements multivariate methods to  forecast insurance loss payments based on several cumulative claims development triangles. These methods are multivariate extensions of the chain-ladder technique, which develop several correlated triangles simultaneously in a way that both contemporaneous correlations and structural relationships can be accounted for. The estimated conditional Mean Square Errors (MSE) are also produced."><meta property="og:image" content="http://mages.github.io/ChainLadder/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">ChainLadder</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.15</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-2">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/ChainLadder.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/mages/ChainLadder/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Multivariate Chain-Ladder Models</h1>
      
      <div class="d-none name"><code>MultiChainLadder.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The function <code>MultiChainLadder</code> implements multivariate methods to  forecast insurance loss payments based on several cumulative claims development triangles. These methods are multivariate extensions of the chain-ladder technique, which develop several correlated triangles simultaneously in a way that both contemporaneous correlations and structural relationships can be accounted for. The estimated conditional Mean Square Errors (MSE) are also produced.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">MultiChainLadder</span><span class="op">(</span><span class="va">Triangles</span>, fit.method <span class="op">=</span> <span class="st">"SUR"</span>, delta <span class="op">=</span> <span class="fl">1</span>,
  int <span class="op">=</span> <span class="cn">NULL</span>, restrict.regMat <span class="op">=</span> <span class="cn">NULL</span>, extrap <span class="op">=</span> <span class="cn">TRUE</span>, 
  mse.method <span class="op">=</span> <span class="st">"Mack"</span>, model <span class="op">=</span> <span class="st">"MCL"</span>, <span class="va">...</span><span class="op">)</span>
    
<span class="fu">MultiChainLadder2</span><span class="op">(</span><span class="va">Triangles</span>, mse.method <span class="op">=</span> <span class="st">"Mack"</span>, last <span class="op">=</span> <span class="fl">3</span>, 
  type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"MCL"</span>, <span class="st">"MCL+int"</span>, <span class="st">"GMCL-int"</span>, <span class="st">"GMCL"</span><span class="op">)</span>, <span class="va">...</span><span class="op">)</span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>Triangles</dt>
<dd><p>a list of cumulative claims triangles of the same dimensions.</p></dd>
<dt>fit.method</dt>
<dd><p>the method used to fit the multivariate regression in each development period. The default is <code>"SUR"</code> - seemingly unrelated regressions. When <code>"OLS"</code> (Ordinary Least Squares) is used, this is the same as developing each triangle separately.</p></dd>
<dt>delta</dt>
<dd><p>parameter for controlling weights. It is used to determine the covariance structure \(D(Y_{i,k}^{\delta/2})\Sigma_k D(Y_{i,k}^{\delta/2})\). The default value <code>1</code> means that the variance is proportional to the cumulative loss from the previous period.</p></dd>
<dt>int</dt>
<dd><p>a numeric vector that indicates which development periods have intercepts specified. This only takes effect for <code>model = "GMCL"</code>. The default <code>NULL</code> means that no intercepts are specified.</p></dd>
<dt>restrict.regMat</dt>
<dd><p>a list of matrix specifying parameter restriction matrix for each period. This is only used for <code>model = "GMCL"</code>. The default value <code>NULL</code> means no restriction is imposed on the development matrix. For example, if there are 3 triangles, there will be 9 parameters in the development matrix for each period if <code>restrict.regMat = NULL</code>. See <code>systemfit</code> for how to specify the appropriate parameter constraints.</p></dd>
<dt>extrap</dt>
<dd><p>a logical value indicating whether to use Mack's extrapolation method for the last period to get the residual variance  estimation. It only takes effect for  <code>model = "MCL"</code>. If the data are  trapezoids, it is set to be <code>FALSE</code> automatically and a warning message is given.</p></dd>
<dt>mse.method</dt>
<dd><p>method to estimate the mean square error. It can be either <code>"Mack"</code> or <code>"Independence"</code>, which are  the multivariate generalization of Mack's formulas and the conditional re-sampling approach, respectively.</p></dd>
<dt>model</dt>
<dd><p>the structure of the model to be fitted. It is either <code>"MCL"</code> or <code>"GMCL"</code>. See details below.</p></dd>
<dt>last</dt>
<dd><p>an integer. The <code>MultiChainLadder2</code> function splits the triangles into 2 parts internally (see details below), and the <code>last</code> argument indicates how many of the development periods in the tail go into the second part of the split. The default is <code>3</code>.</p></dd>
<dt>type</dt>
<dd><p>the type of the model structure to be specified for the first part of the split model in <code>MultiChainLadder2</code>. <code>"MCL"</code>- the multivariate chain-ladder with diagonal development matrix; <code>"MCL+int"</code>- the multivariate chain-ladder with additional intercepts; <code>"GMCL-int"</code>- the general multivariate chain-ladder without intercepts; and <code>"GMCL"</code> - the full general multivariate chain-ladder with intercepts and non-diagonal development matrix.</p></dd>
<dt>...</dt>
<dd><p>arguments passed to <code>systemfit</code>.</p></dd>
</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function implements multivariate loss reserving models within the chain-ladder framework.  Two major models are included. One is the Multivariate chain-ladder (MCL) model proposed by Prohl and Schmidt (2005). This is a direct multivariate generalization of the univariate chain-ladder model in that losses from different triangles are assumed to be correlated but the mean development in one triangle only depends on its past values, not on the observed values from other triangles. In contrast, the other model, the General Multivariate chain-ladder (GMCL) model outlined in Zhang (2010), extends the MCL model by allowing development dependencies among different triangles as well as the inclusion of regression intercepts. As a result, structurally related triangles, such as the  paid and incurred loss triangles or the paid loss and case reserve triangles, can be developed together while still accounting for the potential contemporaneous correlations. While the MCL model is a special case of the GMCL model, it is programmed and listed separately because: a) it is an important model for its own sake; b) different MSE methods are only available for the MCL model; c) extrapolation of the residual variance estimation can be implemented for the MCL model, which is considerably difficult for the GMCL model.</p>
<p>We introduce some details of the GMCL model in the following. Assume N triangles are available. Denote \(Y_{i,k}=(Y^{(1)}_{i,k}, \ldots ,Y^{(N)}_{i,k})\) as an \(N \times 1\) vector of  cumulative losses at accident year i and development year k, where (n) refers to the n-th triangle. The GMCL model in development period k (from development year k to year k+1) is:
  $$Y_{i,k+1}=A_k + B_k \cdot Y_{i,k}+\epsilon_{i,k},$$
where \(A_k\) is a column of intercepts and \(B_k\) is the  \(N \times N\) development matrix. By default, <code>MultiChainLadder</code> sets \(A_k\) to be zero. This behavior can be changed by appropriately specifying the <code>int</code> argument.
Assumptions for this model are:
$$E(\epsilon_{i,k}|Y_{i,1},\ldots,Y_{i,I+1-k})=0.$$
$$cov(\epsilon_{i,k}|Y_{i,1},\ldots,Y_{i,I+1-k})=\Sigma_{\epsilon_{i,k}}=D(Y_{i,k}^{\delta/2})\Sigma_k D(Y_{i,k}^{\delta/2}).$$
$$\mbox{losses of different accident years are independent}.$$
$$\epsilon_{i,k} \, \mbox{are symmetrically distributed}.$$</p>
<p>The GMCL model structure is generally over-parameterized. Parameter restrictions are usually necessary for the estimation to be feasible, which can be specified through the <code>restrict.regMat</code> argument. We refer the users to the documentation for <code><a href="https://rdrr.io/pkg/systemfit/man/systemfit.html" class="external-link">systemfit</a></code> for details and the demo of the present function for examples.</p>
<p>In particular, if one restricts the development matrix to be diagonal, the GMCL model will reduce to the MCL model. When non-diagonal development matrix is used and the GMCL model is applied to paid and incurred loss triangles, it can reflect the development relationship between the two triangles, as described in Quarg and Mack (2004). The full bivariate model is identical to the "double regression" model described by Mack (2003), which is argued by him to be very similar to the Munich chain-ladder (MuCL) model. The GMCL model with intercepts can also help improve model adequacy as described in Barnett and Zehnwirth (2000).</p>
<p>Currently, the GMCL model only works for trapezoid data, and only implements <code>mse.method = "Mack"</code>. The MCL model allows an additional mse estimation method that assumes independence among the estimated parameters. Further, the MCL model using <code>fit.method = "OLS"</code> will be equivalent to running univariate chain-ladders separately on each triangle. Indeed, when only one triangle is specified (as a list),  the MCL model is equivalent to <code>MackChainLadder</code>.</p>
<p>The GMCL model allows different model structures to be specified in each development period. This is generally achieved through the combination of the <code>int</code> argument, which specifies the periods that have intercepts, and the <code>restrict.regMat</code> argument, which imposes parameter restrictions on the development matrix.</p>

<p>In using the multivariate methods, we often specify separate univariate chain-ladders for the tail periods to stabilize the estimation - there are few data points in the tail and running a multivariate model often produces extremely volatile estimates or even fails. In this case, we can use the subset operator <code>"["</code> defined for class <code>triangles</code> to split the input data into two parts. We can specify a multivariate model with rich structures on the first part to reflect the multivariate dependencies, and simply apply multiple univariate chain-ladders on the second part. The two models are subsequently joined together using the <code>Join2Fits</code> function. We can then invoke the <code>predict</code> and <code>Mse</code> methods to produce loss predictions and mean square error estimations. They can further be combined via the <code>JoinFitMse</code> function  to construct an object of class <code>MultiChainLadder</code>. See the demo for such examples.</p>
<p>To facilitate such a split-and-join process for most applications, we have created the function <code>MultiChainLadder2</code>. This function splits the data according to the <code>last</code> argument (e.g., if <code>last = 3</code>, the last three periods go into the second part), and fits the first part according to the structure indicated in the <code>type</code> argument. See the 'Arguments' section for details.</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>When <code>MultiChainLadder</code> or <code>MultiChainLadder2</code> fails, the most possible reason is that there is little or no development in the tail periods. That is, the development factor is <code>1</code> or almost equal to <code>1</code>. In this case, the <code>systemfit</code> function may fail even for <code>fit.method = "OLS"</code>, because the residual covariance matrix \(\Sigma_k\) is singular. The simplest solution is to remove these columns using the <code>"["</code> operator and fit the model on the remaining part.</p>
<p>Also, we recommend the use of <code>MultiChainLadder2</code> over <code>MultiChainLadder</code>. The function <code>MultiChainLadder2</code> meets the need for most applications, is relatively easy to use and produces more stable but very similar results to <code>MultiChainLadder</code>. Use <code>MultiChainLadder</code> only when non-standard situation arises, e.g., when different parameter restrictions are needed for different periods. See the demo for such examples.</p>
    </div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>MultiChainLadder</code> returns an object of class <code>MultiChainLadder</code>  with the following slots:</p>
<dl><dt>model</dt>
<dd><p>the model structure used, either <code>"MCL"</code> or <code>"GMCL"</code></p></dd>
<dt>Triangles</dt>
<dd><p>input triangles of cumulative claims that are converted to class <code>triangles</code> internally.</p></dd>
<dt>models</dt>
<dd><p>fitted models for each development period. This is the output from the call of <code>systemfit</code>.</p></dd>
<dt>coefficients</dt>
<dd><p>estimated regression coefficients or development parameters. They are put into the matrix format for the GMCL model.</p></dd>
<dt>coefCov</dt>
<dd><p>estimated variance-covariance matrix for the regression coefficients.</p></dd>
<dt>residCov</dt>
<dd><p>estimated residual covariance matrix.</p></dd>
<dt>fit.method</dt>
<dd><p>multivariate regression estimation method</p></dd>
<dt>delta</dt>
<dd><p>the value of delta</p></dd>
<dt>mse.ay</dt>
<dd><p>mean square error matrix for each accident year</p></dd>
<dt>mse.ay.est</dt>
<dd><p>estimation error matrix for each accident year</p></dd>
<dt>mse.ay.proc</dt>
<dd><p>process error matrix for each accident year</p></dd>
<dt>mse.total</dt>
<dd><p>mean square error matrix for all accident years combined</p></dd>
<dt>mse.total.est</dt>
<dd><p>estimation error matrix for all accident years combined</p></dd>
<dt>mse.total.proc</dt>
<dd><p>process error matrix for all accident years combined</p></dd>
<dt>FullTriangles</dt>
<dd><p>the forecasted full triangles of class <code>triangles</code></p></dd>
<dt>int</dt>
<dd><p>intercept indicators</p></dd>
</dl></div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p><cite>Buchwalder M, Bühlmann H, Merz M, Wüthrich M.V (2006). The mean square error of prediction in the chain-ladder reserving method (Mack and Murphy revisited), <em>ASTIN Bulletin</em>, 36(2), 521-542.</cite></p>
<p><cite>Prohl C, Schmidt K.D (2005). Multivariate chain-ladder, <em>Dresdner Schriften zur Versicherungsmathematik</em>.</cite></p>
<p><cite> Mack T (1993). Distribution-free calculation of the standard error, <em>ASTIN Bulletin</em>, 23, No.2. </cite></p>
<p><cite> Mack T (1999). The standard error of chain-ladder reserve estimates: recursive calculation and inclusion of a tail factor, <em>ASTIN Bulletin</em>, 29, No.2, 361-366.</cite></p>
<p><cite> Merz M, Wüthrich M (2008). Prediction error of the multivariate chain ladder reserving method, <em>North American Actuarial Journal</em>, 12, No.2, 175-197.</cite></p>
<p><cite>Zhang Y (2010). A general multivariate chain-ladder model.<em>Insurance: Mathematics and Economics</em>, 46, pp. 588-599.</cite></p>
<p><cite>Zhang Y (2010). Prediction error of the general multivariate chain ladder model.</cite></p>
<p></p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Wayne Zhang <a href="mailto:actuary_zhang@hotmail.com">actuary_zhang@hotmail.com</a></p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>See also <code><a href="MackChainLadder.html">MackChainLadder</a></code>, <code><a href="MunichChainLadder.html">MunichChainLadder</a></code>, <code><a href="triangles-class.html">triangles</a></code>, <code><a href="MultiChainLadder-class.html">MultiChainLadder</a></code>, <code><a href="summary-methods.html">summary,MultiChainLadder-method</a></code> and  <code><a href="plot-methods.html">plot,MultiChainLadder,missing-method</a></code>.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co"># This shows that the MCL model using "OLS" is equivalent to </span></span>
<span class="r-in"><span class="co"># the MackChainLadder when applied to one triangle </span></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">GenIns</span><span class="op">)</span></span>
<span class="r-in"><span class="op">(</span><span class="va">U1</span> <span class="op">&lt;-</span> <span class="fu"><a href="MackChainLadder.html">MackChainLadder</a></span><span class="op">(</span><span class="va">GenIns</span>, est.sigma <span class="op">=</span> <span class="st">"Mack"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> MackChainLadder(Triangle = GenIns, est.sigma = "Mack")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Latest Dev.To.Date  Ultimate      IBNR  Mack.S.E CV(IBNR)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  3,901,463      1.0000 3,901,463         0         0      NaN</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  5,339,085      0.9826 5,433,719    94,634    75,535    0.798</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  4,909,315      0.9127 5,378,826   469,511   121,699    0.259</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  4,588,268      0.8661 5,297,906   709,638   133,549    0.188</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  3,873,311      0.7973 4,858,200   984,889   261,406    0.265</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  3,691,712      0.7223 5,111,171 1,419,459   411,010    0.290</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7  3,483,130      0.6153 5,660,771 2,177,641   558,317    0.256</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8  2,864,498      0.4222 6,784,799 3,920,301   875,328    0.223</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9  1,363,294      0.2416 5,642,266 4,278,972   971,258    0.227</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10   344,014      0.0692 4,969,825 4,625,811 1,363,155    0.295</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                  Totals</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Latest:   34,358,090.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dev:               0.65</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Ultimate: 53,038,945.61</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> IBNR:     18,680,855.61</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Mack.S.E   2,447,094.86</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CV(IBNR):          0.13</span>
<span class="r-in"><span class="op">(</span><span class="va">U2</span> <span class="op">&lt;-</span> <span class="fu">MultiChainLadder</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">GenIns</span><span class="op">)</span>, fit.method <span class="op">=</span> <span class="st">"OLS"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`Summary Statistics for Input Triangle`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           Latest Dev.To.Date   Ultimate       IBNR       S.E    CV</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      3,901,463      1.0000  3,901,463          0         0 0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2      5,339,085      0.9826  5,433,719     94,634    75,535 0.798</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3      4,909,315      0.9127  5,378,826    469,511   121,699 0.259</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4      4,588,268      0.8661  5,297,906    709,638   133,549 0.188</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5      3,873,311      0.7973  4,858,200    984,889   261,406 0.265</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6      3,691,712      0.7223  5,111,171  1,419,459   411,010 0.290</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7      3,483,130      0.6153  5,660,771  2,177,641   558,317 0.256</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8      2,864,498      0.4222  6,784,799  3,920,301   875,328 0.223</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9      1,363,294      0.2416  5,642,266  4,278,972   971,258 0.227</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10       344,014      0.0692  4,969,825  4,625,811 1,363,155 0.295</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Total 34,358,090      0.6478 53,038,946 18,680,856 2,447,095 0.131</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># show plots </span></span>
<span class="r-in"><span class="va">parold</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mfrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">U2</span>, which.plot <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span></span>
<span class="r-plt img"><img src="MultiChainLadder-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">U2</span>, which.plot <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span class="r-plt img"><img src="MultiChainLadder-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span><span class="va">parold</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># For mse.method = "Independence", the model is equivalent </span></span>
<span class="r-in"><span class="co"># to that in Buchwalder et al. (2006)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="op">(</span><span class="va">B1</span> <span class="op">&lt;-</span> <span class="fu">MultiChainLadder</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">GenIns</span><span class="op">)</span>, fit.method <span class="op">=</span> <span class="st">"OLS"</span>, </span>
<span class="r-in">    mse.method <span class="op">=</span> <span class="st">"Independence"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`Summary Statistics for Input Triangle`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           Latest Dev.To.Date   Ultimate       IBNR       S.E    CV</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      3,901,463      1.0000  3,901,463          0         0 0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2      5,339,085      0.9826  5,433,719     94,634    75,535 0.798</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3      4,909,315      0.9127  5,378,826    469,511   121,700 0.259</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4      4,588,268      0.8661  5,297,906    709,638   133,551 0.188</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5      3,873,311      0.7973  4,858,200    984,889   261,412 0.265</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6      3,691,712      0.7223  5,111,171  1,419,459   411,028 0.290</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7      3,483,130      0.6153  5,660,771  2,177,641   558,356 0.256</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8      2,864,498      0.4222  6,784,799  3,920,301   875,430 0.223</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9      1,363,294      0.2416  5,642,266  4,278,972   971,385 0.227</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10       344,014      0.0692  4,969,825  4,625,811 1,363,385 0.295</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Total 34,358,090      0.6478 53,038,946 18,680,856 2,447,618 0.131</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># use the unbiased residual covariance estimator </span></span>
<span class="r-in"><span class="co"># in Merz and Wuthrich (2008)</span></span>
<span class="r-in"><span class="op">(</span><span class="va">W1</span> <span class="op">&lt;-</span> <span class="fu">MultiChainLadder2</span><span class="op">(</span><span class="va">liab</span>, mse.method <span class="op">=</span> <span class="st">"Independence"</span>, </span>
<span class="r-in">        control <span class="op">=</span> <span class="fu">systemfit</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/systemfit/man/systemfit.control.html" class="external-link">systemfit.control</a></span><span class="op">(</span>methodResidCov <span class="op">=</span> <span class="st">"Theil"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`Summary Statistics for Triangle 1`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           Latest Dev.To.Date   Ultimate      IBNR     S.E     CV</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1        549,589      1.0000    549,589         0       0 0.0000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2        562,795      0.9966    564,740     1,945   1,743 0.8961</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3        602,710      0.9911    608,104     5,394   7,354 1.3633</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4        784,632      0.9867    795,248    10,616   9,042 0.8518</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5        768,373      0.9804    783,768    15,395  11,181 0.7263</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6        811,100      0.9687    837,341    26,241  16,783 0.6396</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7        896,728      0.9542    939,740    43,012  19,706 0.4581</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8      1,022,241      0.9299  1,099,257    77,016  23,362 0.3033</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9      1,019,303      0.8817  1,156,068   136,765  29,610 0.2165</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10     1,141,750      0.7969  1,432,782   291,032  37,521 0.1289</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11     1,174,196      0.6760  1,737,032   562,836  57,669 0.1025</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12     1,032,684      0.4998  2,066,151 1,033,467  89,534 0.0866</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13       772,971      0.2907  2,659,239 1,886,268 193,211 0.1024</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14       204,325      0.0901  2,268,345 2,064,020 282,755 0.1370</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Total 11,343,397      0.6483 17,497,403 6,154,006 427,041 0.0694</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`Summary Statistics for Triangle 2`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          Latest Dev.To.Date   Ultimate      IBNR     S.E      CV</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1       391,428       1.000    391,428         0       0  0.0000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2       483,974       1.000    483,839      -135     604 -4.4825</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3       540,742       1.001    540,002      -740   1,436 -1.9416</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4       485,016       0.998    486,227     1,211   2,912  2.4043</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5       507,752       0.998    508,728       976   3,201  3.2801</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6       549,693       0.994    552,860     3,167   5,418  1.7108</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7       635,452       0.994    639,253     3,801   6,221  1.6367</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8       648,365       0.985    658,572    10,207   7,484  0.7333</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9       663,152       0.968    684,936    21,784   9,125  0.4189</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10      790,901       0.935    845,986    55,085  16,196  0.2940</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11      844,159       0.877    963,023   118,864  26,752  0.2251</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12      915,109       0.783  1,169,265   254,156  36,741  0.1446</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13      909,066       0.617  1,473,780   564,714  53,391  0.0945</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14      394,997       0.278  1,423,135 1,028,138 126,545  0.1231</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Total 8,759,806       0.809 10,821,034 2,061,228 162,785  0.0790</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`Summary Statistics for Triangle 1+2`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           Latest Dev.To.Date   Ultimate      IBNR     S.E     CV</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1        941,017       1.000    941,017         0       0 0.0000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2      1,046,769       0.998  1,048,579     1,810   1,845 1.0190</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3      1,143,452       0.996  1,148,107     4,655   7,493 1.6097</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4      1,269,648       0.991  1,281,475    11,827   9,499 0.8032</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5      1,276,125       0.987  1,292,496    16,371  12,068 0.7372</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6      1,360,793       0.979  1,390,201    29,408  18,888 0.6423</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7      1,532,180       0.970  1,578,993    46,813  22,455 0.4797</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8      1,670,606       0.950  1,757,828    87,222  26,019 0.2983</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9      1,682,455       0.914  1,841,004   158,549  33,404 0.2107</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10     1,932,651       0.848  2,278,768   346,117  45,438 0.1313</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11     2,018,355       0.748  2,700,055   681,700  72,278 0.1060</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12     1,947,793       0.602  3,235,416 1,287,623 112,426 0.0873</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13     1,682,037       0.407  4,133,019 2,450,982 223,181 0.0911</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14       599,322       0.162  3,691,479 3,092,157 342,288 0.1107</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Total 20,103,203       0.710 28,318,437 8,215,234 505,376 0.0615</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="co"># use the iterative residual covariance estimator</span></span>
<span class="r-in"><span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span><span class="op">{</span></span>
<span class="r-in">  <span class="va">W2</span> <span class="op">&lt;-</span> <span class="fu">MultiChainLadder2</span><span class="op">(</span><span class="va">liab</span>, mse.method <span class="op">=</span> <span class="st">"Independence"</span>, </span>
<span class="r-in">      control <span class="op">=</span> <span class="fu">systemfit</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/systemfit/man/systemfit.control.html" class="external-link">systemfit.control</a></span><span class="op">(</span></span>
<span class="r-in">      methodResidCov <span class="op">=</span> <span class="st">"Theil"</span>, maxiter <span class="op">=</span> <span class="va">i</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in">  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/format.html" class="external-link">format</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">W2</span><span class="op">)</span><span class="op">@</span><span class="va">report.summary</span><span class="op">[[</span><span class="fl">3</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="fl">15</span>, <span class="fl">4</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span>, </span>
<span class="r-in">          digits <span class="op">=</span> <span class="fl">6</span>, big.mark <span class="op">=</span> <span class="st">","</span><span class="op">)</span><span class="op">)</span>    </span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># The following fits an MCL model with intercepts for years 1:7</span></span>
<span class="r-in"><span class="co"># and separate chain-ladder models for the rest periods</span></span>
<span class="r-in"><span class="va">f1</span> <span class="op">&lt;-</span> <span class="fu">MultiChainLadder2</span><span class="op">(</span><span class="va">auto</span>, type <span class="op">=</span> <span class="st">"MCL+int"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># compare with the model without intercepts through residual plots</span></span>
<span class="r-in"><span class="va">f0</span> <span class="op">&lt;-</span> <span class="fu">MultiChainLadder2</span><span class="op">(</span><span class="va">auto</span>, type <span class="op">=</span> <span class="st">"MCL"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">parold</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mfrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span>, mar <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">3</span>, <span class="fl">2</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="va">mt</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Personal Paid"</span>, <span class="st">"Personal Incured"</span>, <span class="st">"Commercial Paid"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">f0</span>, which.plot <span class="op">=</span> <span class="fl">3</span>, main <span class="op">=</span> <span class="va">mt</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">f1</span>, which.plot <span class="op">=</span> <span class="fl">3</span>, main <span class="op">=</span> <span class="va">mt</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span><span class="va">parold</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## summary statistics</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">f1</span>, portfolio <span class="op">=</span> <span class="st">"1+3"</span><span class="op">)</span><span class="op">@</span><span class="va">report.summary</span><span class="op">[[</span><span class="fl">4</span><span class="op">]</span><span class="op">]</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># model for joint development of paid and incurred triangles </span></span>
<span class="r-in"><span class="va">da</span> <span class="op">&lt;-</span> <span class="va">auto</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span></span>
<span class="r-in"><span class="co"># MCL with diagonal development</span></span>
<span class="r-in"><span class="va">M0</span> <span class="op">&lt;-</span> <span class="fu">MultiChainLadder</span><span class="op">(</span><span class="va">da</span><span class="op">)</span></span>
<span class="r-in"><span class="co"># non-diagonal development matrix with no intercepts</span></span>
<span class="r-in"><span class="va">M1</span> <span class="op">&lt;-</span> <span class="fu">MultiChainLadder2</span><span class="op">(</span><span class="va">da</span>, type <span class="op">=</span> <span class="st">"GMCL-int"</span><span class="op">)</span></span>
<span class="r-in"><span class="co"># Munich chain-ladder</span></span>
<span class="r-in"><span class="va">M2</span> <span class="op">&lt;-</span> <span class="fu"><a href="MunichChainLadder.html">MunichChainLadder</a></span><span class="op">(</span><span class="va">da</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>, <span class="va">da</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span class="r-in"><span class="co"># compile results and compare projected paid to incurred ratios</span></span>
<span class="r-in"><span class="va">r1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">M0</span>, <span class="va">M1</span><span class="op">)</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">{</span></span>
<span class="r-in">          <span class="va">ult</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">@</span><span class="va">Ultimate</span></span>
<span class="r-in">          <span class="va">ult</span><span class="op">[</span>, <span class="fl">1</span><span class="op">]</span> <span class="op">/</span> <span class="va">ult</span><span class="op">[</span>, <span class="fl">2</span><span class="op">]</span></span>
<span class="r-in">      <span class="op">}</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">r1</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"MCL"</span>, <span class="st">"GMCL"</span><span class="op">)</span></span>
<span class="r-in"><span class="va">r2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">M2</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">[</span>, <span class="fl">6</span><span class="op">]</span></span>
<span class="r-in"><span class="va">r2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">r2</span>, <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">M2</span><span class="op">)</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="fl">2</span>, <span class="fl">3</span><span class="op">]</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/do.call.html" class="external-link">do.call</a></span><span class="op">(</span><span class="va">cbind</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">r1</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>MuCl <span class="op">=</span> <span class="va">r2</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">*</span> <span class="fl">100</span>, digits <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># To reproduce results in Zhang (2010) and see more examples, use:</span></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"> <span class="fu"><a href="https://rdrr.io/r/utils/demo.html" class="external-link">demo</a></span><span class="op">(</span><span class="va">MultiChainLadder</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Markus Gesmann, Daniel Murphy, Yanwei (Wayne) Zhang, Alessandro Carrato, Mario Wuthrich, Fabio Concina, Eric Dal Moro.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.</p>
</div>

    </footer></div>

  

  

  </body></html>

