<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="One of the three basic assumptions underlying the chain ladder
  method is the independence of the accident years. 
  The function tests this assumption."><title>Testing for Calendar Year Effect — cyEffTest • ChainLadder</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Testing for Calendar Year Effect — cyEffTest"><meta property="og:description" content="One of the three basic assumptions underlying the chain ladder
  method is the independence of the accident years. 
  The function tests this assumption."><meta property="og:image" content="http://mages.github.io/ChainLadder/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">ChainLadder</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.15</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-2">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/ChainLadder.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/mages/ChainLadder/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Testing for Calendar Year Effect</h1>
      
      <div class="d-none name"><code>cyEffTest.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>One of the three basic assumptions underlying the chain ladder
  method is the independence of the accident years. 
  The function tests this assumption.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">cyEffTest</span><span class="op">(</span><span class="va">Triangle</span>, ci <span class="op">=</span> <span class="fl">0.95</span><span class="op">)</span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>Triangle</dt>
<dd><p>cumulative claims triangle.  Assume columns are the development
    period, use transpose otherwise.
    A (mxn)-matrix \(C_{ik}\) 
    which is filled for \(k \leq n+1-i; i=1,\ldots,m; m\geq n \), see
    <code><a href="qpaid.html">qpaid</a></code> for how to use (mxn)-development triangles with
    m&lt;n, say higher development period frequency (e.g quarterly) than
    origin period frequency (e.g accident years).</p></dd>
<dt>ci</dt>
<dd><p>confidence interval. Default: .95. A confidence interval is 
  a type of interval estimate, computed from the statis tics of the observed data, 
  that might contain the true value of an unknown population parameter. 
  The interval has an associated confidence level that quantifies 
  the level of confidence that the parameter lies in the interval.</p></dd>
</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The main reason why this independence can be violated in practice is the fact that 
there could be certain calendar year effects such as major changes in claims handling or in case reserving or external influences such as substantial changes in court decisions or inflation.</p>
<p>As described by the Mack's 1994 paper a procedure is designed to test for calendar year influences.</p>
<p>The procedure returns a summary statistic \(Z\) which is assumed to be Normally Distributed. It is therefore possible to define a confidence interval threshold in order to evaluate the outcome of the test.</p>
    </div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>cyEffTest returns a list with the following elements</p>
<dl><dt>test_table</dt>
<dd><p>complete table of results</p></dd>
<dt>Z</dt>
<dd><p>summary statistic</p></dd>
<dt>E</dt>
<dd><p>expected value of the resulting distribution</p></dd>
<dt>Var</dt>
<dd><p>variance of the resulting distribution</p></dd>
<dt>Range</dt>
<dd><p>vector of the range corresponding the confidence interval threshold selected</p></dd>
<dt>ci</dt>
<dd><p>confidence interval</p></dd>
</dl></div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p><cite>Mack, T., Measuring the Variability of Chain Ladder Reserve Estimates, <em>Casualty Actuarial Society Forum</em>, Spring 1994</cite></p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Marco De Virgilis <a href="mailto:devirgilis.marco@gmail.com">devirgilis.marco@gmail.com</a></p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>Additional references for further reading:</p>  
<p><cite>Thomas Mack. Distribution-free calculation of the standard error of chain ladder reserve estimates. <em>Astin Bulletin</em>. Vol. 23. No 2. 1993. pp.213:225</cite></p>
<p><cite>Thomas Mack. The standard error of chain ladder reserve estimates: Recursive calculation and inclusion of a tail factor. <em>Astin Bulletin</em>. Vol. 29. No 2. 1999. pp.361:366</cite></p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>See also <code><a href="qpaid.html">qpaid</a></code> for dealing with non-square triangles,  
  <code><a href="dfCorTest.html">dfCorTest</a></code> for the test for correlations between subsequent development factors,
  <code><a href="chainladder.html">chainladder</a></code> for the chain-ladder method,
  <code><a href="summary.cyEffTest.html">summary.cyEffTest</a></code>,  
  <code><a href="plot.cyEffTest.html">plot.cyEffTest</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co"># Before actually applying the Chain Ladder technique it is necessary to check</span></span>
<span class="r-in"><span class="co"># wether the triangle has Calendar Year Effect</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Apply the function to the triangle and save the output into the variable test</span></span>
<span class="r-in"><span class="va">test</span> <span class="op">&lt;-</span> <span class="fu">cyEffTest</span><span class="op">(</span><span class="va">RAA</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Plot the confidence interval and the test metric</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">test</span><span class="op">)</span></span>
<span class="r-plt img"><img src="cyEffTest-1.png" alt="" width="700" height="433"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># The metric is within the confidence interval, therefore the triangle doesn't</span></span>
<span class="r-in"><span class="co"># have Calendar Year Effect</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Print the summary table</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">test</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $Table</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   j S_j L_j Z_j n m    E_Zj    Var_Zj</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 2   1   1   1 2 0 0.50000 0.2500000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 3   3   0   0 3 1 0.75000 0.1875000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 4   3   1   1 4 1 1.25000 0.4375000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 5   1   3   1 4 1 1.25000 0.4375000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 6   1   3   1 4 1 1.25000 0.4375000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 7   2   4   2 6 2 2.06250 0.6210938</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7 8   4   4   4 8 3 2.90625 0.8037109</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8 9   4   4   4 8 3 2.90625 0.8037109</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $Totals</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           Totals</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Z      14.000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> E[Z]   12.875000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Var[Z]  3.978516</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $Range</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           Value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Lower  8.965613</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Upper 16.784387</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Print only the main outcomes</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">test</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Calendar Year Effect</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Z = 14</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 95%-Range = ( 8.965613 ; 16.78439 )</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Calendar Year Effect: FALSE</span>
<span class="r-in"><span class="co"># The test has returned a negative outcome. This means that the triangle is </span></span>
<span class="r-in"><span class="co"># not affected by Caledar Year Effect and therefore the chain ladder method </span></span>
<span class="r-in"><span class="co"># can be applied.</span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Markus Gesmann, Daniel Murphy, Yanwei (Wayne) Zhang, Alessandro Carrato, Mario Wuthrich, Fabio Concina, Eric Dal Moro.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.</p>
</div>

    </footer></div>

  

  

  </body></html>

